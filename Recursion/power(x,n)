class Solution:
    def myPow(self, x: float, n: int) -> float:
        def power(exp):
            if exp==0:
                return 1
            half=power(exp//2)
            if exp%2==0:
                return half*half
            else:
                return half*half*x
        if n<0:
            return 1/power(-n)
        else:
            return power(n)
        
